// NavUtilities Patch for ASET & RPM IVAs, by theonegalen, Posted 17-07-02,
// http://forum.kerbalspaceprogram.com/index.php?/topic/77062-11-navutilities-ft-hsi-instrument-landing-system/&do=findComment&comment=3109344
// Modified By Masset Stephane
// GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007
// Added Mask layer (indicate by green rectangle working buttons) for NavInstruments Mod
// Disable text layer page for HSI & Ai for Navinstruments Mod no option for fitting the background handler pluggins screen.
// Supressed text = "NavInstruments software not installed." message seem not working with the mod NavInstruments
// Mod installed by ModuleManager to avoid two black screen after MFD (button A) and Mask layer !
//

@PROP[MAMFD40x20]:NEEDS[NavInstruments]:AFTER[RasterPropMonitor]
{
	@MODULE[RasterPropMonitor]
	{
		// NavUtilities
		PAGE
		{
			name = KSF_NAV_HSI
			button = button_A			
		    //text = MA_IVASPARTS/MFDs/MAMFD40x20/MAPHSI.txt
			disableSwitchingTo = pMAPageILSFREQ, pMATargetMenuOverlay, pMAMapOrbit40x20, pMAMapLanding40x20, pMAMapClear40x20, pMAAutoPilotMenuOverlay, pMAAutoPilotMenuOverlaySAS, pMAAstrogatortMenuOverlay, pMAGraphAltAtmAltDynPressAtm40x20, pMAGraphTerrainHeightScaner40x20, pMAVesselViewOverlay, pMAresources40x20, pMAresourcesStage40x20, pMAAscDes40x20, pMALanding40x20, pMAorbit40x20, pMAorbitDisplay40x20, pMADocking40x20, pMADocking40x20cross, pDPAI, pMAshipinfo40x20, pMAFlightLogOverlay, pMACrew40x20, pactiongrp40x20, pMA_CCTVoverlay, pMAExtraCamsOverlay, return, pageSuiv

			BACKGROUNDHANDLER
            {
                name = KSF_MLS
                method = DrawMLS
				buttonClickMethod = ButtonProcessor

				btnPrevRwy = 6
				btnNextRwy = 5
				btnDefaultRwyGS = 3
            }
			textureInterlayURL = MA_IVASPARTS/MFDs/MAMFD40x20/MaskHSI
        }
        
		PAGE
		{
			name = KSF_NAV_AI
			button = button_A
			//text = MA_IVASPARTS/MFDs/MAMFD40x20/MAPAI.txt
			disableSwitchingTo = pMAPageILSFREQ, pMATargetMenuOverlay, pMAMapOrbit40x20, pMAMapLanding40x20, pMAMapClear40x20, pMAAutoPilotMenuOverlay, pMAAutoPilotMenuOverlaySAS, pMAAstrogatortMenuOverlay, pMAGraphAltAtmAltDynPressAtm40x20, pMAGraphTerrainHeightScaner40x20, pMAVesselViewOverlay, pMAresources40x20, pMAresourcesStage40x20, pMAAscDes40x20, pMALanding40x20, pMAorbit40x20, pMAorbitDisplay40x20, pMADocking40x20, pMADocking40x20cross, pDPAI, pMAshipinfo40x20, pMAFlightLogOverlay, pMACrew40x20, pactiongrp40x20, pMA_CCTVoverlay, pMAExtraCamsOverlay, return, pageSuiv

			BACKGROUNDHANDLER
            {
                name = KSF_AI
                method = DrawAI
            }            
			textureInterlayURL = MA_IVASPARTS/MFDs/MAMFD40x20/MaskAI
		}
	}
}
@PROP[MAMFD40x20_*]:NEEDS[NavInstruments]:AFTER[RasterPropMonitor]
{
	@MODULE[RasterPropMonitor]
	{
		// NavUtilities
		PAGE
		{
			name = KSF_NAV_HSI
			button = button_A			
		    //text = MA_IVASPARTS/MFDs/MAMFD40x20/MAPHSI.txt
			disableSwitchingTo = pMAPageILSFREQ, pMATargetMenuOverlay, pMAMapOrbit40x20, pMAMapLanding40x20, pMAMapClear40x20, pMAAutoPilotMenuOverlay, pMAAutoPilotMenuOverlaySAS, pMAAstrogatortMenuOverlay, pMAGraphAltAtmAltDynPressAtm40x20, pMAGraphTerrainHeightScaner40x20, pMAVesselViewOverlay, pMAresources40x20, pMAresourcesStage40x20, pMAAscDes40x20, pMALanding40x20, pMAorbit40x20, pMAorbitDisplay40x20, pMADocking40x20, pMADocking40x20cross, pDPAI, pMAshipinfo40x20, pMAFlightLogOverlay, pMACrew40x20, pactiongrp40x20, pMA_CCTVoverlay, pMAExtraCamsOverlay, return, pageSuiv

			BACKGROUNDHANDLER
            {
                name = KSF_MLS
                method = DrawMLS
				buttonClickMethod = ButtonProcessor

				btnPrevRwy = 6
				btnNextRwy = 5
				btnDefaultRwyGS = 3
            }
			textureInterlayURL = MA_IVASPARTS/MFDs/MAMFD40x20/MaskHSI
        }
        
		PAGE
		{
			name = KSF_NAV_AI
			button = button_A
			//text = MA_IVASPARTS/MFDs/MAMFD40x20/MAPAI.txt
			disableSwitchingTo = pMAPageILSFREQ, pMATargetMenuOverlay, pMAMapOrbit40x20, pMAMapLanding40x20, pMAMapClear40x20, pMAAutoPilotMenuOverlay, pMAAutoPilotMenuOverlaySAS, pMAAstrogatortMenuOverlay, pMAGraphAltAtmAltDynPressAtm40x20, pMAGraphTerrainHeightScaner40x20, pMAVesselViewOverlay, pMAresources40x20, pMAresourcesStage40x20, pMAAscDes40x20, pMALanding40x20, pMAorbit40x20, pMAorbitDisplay40x20, pMADocking40x20, pMADocking40x20cross, pDPAI, pMAshipinfo40x20, pMAFlightLogOverlay, pMACrew40x20, pactiongrp40x20, pMA_CCTVoverlay, pMAExtraCamsOverlay, return, pageSuiv

			BACKGROUNDHANDLER
            {
                name = KSF_AI
                method = DrawAI
            }            
			textureInterlayURL = MA_IVASPARTS/MFDs/MAMFD40x20/MaskAI
		}
	}
}
//END FILE
